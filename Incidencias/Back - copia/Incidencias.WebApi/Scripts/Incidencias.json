{
	"info": {
		"_postman_id": "cae18340-8a4e-4759-91b5-f4f5e54ec9ab",
		"name": "Incidencias JWT",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Sesion",
			"item": [
				{
					"name": "LoginJWT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"username\":\"agustina\",\n\t\"password\":\"1234\"\n}"
						},
						"url": {
							"raw": "{{urlApi}}sesion/login/",
							"host": [
								"{{urlApi}}sesion"
							],
							"path": [
								"login",
								""
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "01 Perfiles",
			"item": [
				{
					"name": "PerfilesGetById",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}perfiles/1",
							"host": [
								"{{urlApi}}perfiles"
							],
							"path": [
								"1"
							]
						},
						"description": "Obtener un perfil dado su identificador"
					},
					"response": []
				},
				{
					"name": "PerfilesGet",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}perfiles",
							"host": [
								"{{urlApi}}perfiles"
							]
						},
						"description": "Obtener una lista de perfiles"
					},
					"response": []
				},
				{
					"name": "PerfilesPost",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"id\":0,\n\t\"nombre\":\"Invitado\"\n}"
						},
						"url": {
							"raw": "{{urlApi}}perfiles",
							"host": [
								"{{urlApi}}perfiles"
							]
						}
					},
					"response": []
				},
				{
					"name": "PerfilesPut",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"id\": 4,\n\t\"nombre\":\"modificado\"\n}"
						},
						"url": {
							"raw": "{{urlApi}}perfiles/4",
							"host": [
								"{{urlApi}}perfiles"
							],
							"path": [
								"4"
							]
						},
						"description": "Actualiza un Perfil"
					},
					"response": []
				},
				{
					"name": "PerfilesDelete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{urlApi}}perfiles/4",
							"host": [
								"{{urlApi}}perfiles"
							],
							"path": [
								"4"
							]
						},
						"description": "Elimina un Perfil"
					},
					"response": []
				}
			]
		},
		{
			"name": "02 Usuarios",
			"item": [
				{
					"name": "UsuarioById",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}usuarios/1",
							"host": [
								"{{urlApi}}usuarios"
							],
							"path": [
								"1"
							]
						},
						"description": "Obtiene un usuario con base en su Identificador"
					},
					"response": []
				},
				{
					"name": "UsuariosGet",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}usuarios",
							"host": [
								"{{urlApi}}usuarios"
							]
						},
						"description": "Obtiene todos los usuarios"
					},
					"response": []
				},
				{
					"name": "UsuariosPost",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 0,\n    \"nombre\": \"Lucia\",\n    \"apellidos\": \"Lopez\",\n    \"email\": \"lucia@gsoft.com.uy\",\n    \"username\": \"lucia\",\n    \"password\": \"AQAAAAEAACcQAAAAEBX72IRr5qgnJMxFPoqCs84fycEJ4AzZ2XD9UOKtoGpgO2Gs6CIiRj3Oqp5/HMeZjA==\",\n    \"perfilId\": 15,\n    \"perfil\": \"Invitado\"\n}"
						},
						"url": {
							"raw": "{{urlApi}}usuarios",
							"host": [
								"{{urlApi}}usuarios"
							]
						},
						"description": "Agrega un usuario"
					},
					"response": []
				},
				{
					"name": "UsuariosPut",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"id\": 7,\n    \"nombre\": \"Ana\",\n    \"apellidos\": \"Lopez\",\n    \"email\": \"ana.lopez@gsoft.com.uy\",\n    \"username\": \"ana.lopez\",\n    \"password\": \"AQAAAAEAACcQAAAAEBX72IRr5qgnJMxFPoqCs84fycEJ4AzZ2XD9UOKtoGpgO2Gs6CIiRj3Oqp5/HMeZjA==\",\n    \"perfilId\": 1,\n    \"perfil\": \"Administrador\"\n}"
						},
						"url": {
							"raw": "{{urlApi}}usuarios/77",
							"host": [
								"{{urlApi}}usuarios"
							],
							"path": [
								"77"
							]
						},
						"description": "Actualiza un usuario, aunque en este método no se actualiza su contraseña."
					},
					"response": []
				},
				{
					"name": "UsuariosDelete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{urlApi}}usuarios/77",
							"host": [
								"{{urlApi}}usuarios"
							],
							"path": [
								"77"
							]
						},
						"description": "Eliminar un usuario"
					},
					"response": []
				},
				{
					"name": "UsuarioCambiarContrasena",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 2,\n    \"username\": \"viviana\",\n    \"password\": \"vivi\"\n}"
						},
						"url": {
							"raw": "{{urlApi}}usuarios/cambiarcontrasena",
							"host": [
								"{{urlApi}}usuarios"
							],
							"path": [
								"cambiarcontrasena"
							]
						},
						"description": "Cambiar la contraseña del usuario"
					},
					"response": []
				},
				{
					"name": "UsuarioValidarCredenciales",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 1,\n    \"username\": \"admin\",\n    \"password\": \"admin\"\n}"
						},
						"url": {
							"raw": "{{urlApi}}usuarios/validarusuario",
							"host": [
								"{{urlApi}}usuarios"
							],
							"path": [
								"validarusuario"
							]
						},
						"description": "Cambiar la contraseña del usuario"
					},
					"response": []
				},
				{
					"name": "UsuarioCambiarPerfil",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 4,\n    \"perfilId\": 1\n}"
						},
						"url": {
							"raw": "{{urlApi}}usuarios/cambiarperfil",
							"host": [
								"{{urlApi}}usuarios"
							],
							"path": [
								"cambiarperfil"
							]
						},
						"description": "Cambia el perfil del usuario"
					},
					"response": []
				}
			]
		},
		{
			"name": "03 Proyectos",
			"item": [
				{
					"name": "ProyectosGet",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}proyectos",
							"host": [
								"{{urlApi}}proyectos"
							]
						},
						"description": "Obtiene todas las órdenes"
					},
					"response": []
				},
				{
					"name": "ProyectosIncidenciasGet",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}Proyectos/incidencias",
							"host": [
								"{{urlApi}}Proyectos"
							],
							"path": [
								"incidencias"
							]
						},
						"description": "Obtiene todos las órdenes con detalles"
					},
					"response": []
				},
				{
					"name": "ProyectosById",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}proyectos/1",
							"host": [
								"{{urlApi}}proyectos"
							],
							"path": [
								"1"
							]
						},
						"description": "Obtiene una orden con base en su Identificador"
					},
					"response": []
				},
				{
					"name": "ProyectoConIncidenciasById",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}proyectos/1/incidencias",
							"host": [
								"{{urlApi}}proyectos"
							],
							"path": [
								"1",
								"incidencias"
							]
						},
						"description": "Obtiene una orden con sus detalles con base en su Identificador"
					},
					"response": []
				},
				{
					"name": "ProyectosPost",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n        \"id\": 0,\n        \"nombre\": \"Fiesta\",        \n        \"incidencias\": [\n            {         \n                \"nombre\": \"test\",\n                \"descripcion\": \"descripcion\",\n                \"estatusIncidencia\": 1,\n                \"version\": 12\n            }\n        ],\n        \"usuariosProyectos\": [\n            {\n                \"usuarioId\": 1\n            }\n        ]\n}\n"
						},
						"url": {
							"raw": "{{urlApi}}proyectos",
							"host": [
								"{{urlApi}}proyectos"
							]
						},
						"description": "Agrega una orden"
					},
					"response": []
				},
				{
					"name": "ProyectosDelete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{urlApi}}Proyectos/8",
							"host": [
								"{{urlApi}}Proyectos"
							],
							"path": [
								"8"
							]
						},
						"description": "Eliminar una orden"
					},
					"response": []
				}
			]
		},
		{
			"name": "04 Incidencias",
			"item": [
				{
					"name": "IncidenciasGet",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}Incidencias",
							"host": [
								"{{urlApi}}Incidencias"
							]
						},
						"description": "Obtiene todos los usuarios"
					},
					"response": []
				},
				{
					"name": "IncidenciasById",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}Incidencias/2",
							"host": [
								"{{urlApi}}Incidencias"
							],
							"path": [
								"2"
							]
						},
						"description": "Obtiene un usuario con base en su Identificador"
					},
					"response": []
				},
				{
					"name": "IncidenciasPut",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 2,    \n    \"nombre\": \"Pantalla no Carga\",\n    \"descripcion\": \"La pantalla que carca la nomina genera error 500\",\n    \"estatusIncidencia\": 1,\n    \"version\": 2\n}"
						},
						"url": {
							"raw": "{{urlApi}}Incidencias/2",
							"host": [
								"{{urlApi}}Incidencias"
							],
							"path": [
								"2"
							]
						},
						"description": "Actualiza un usuario, aunque en este método no se actualiza su contraseña."
					},
					"response": []
				},
				{
					"name": "IncidenciasPost",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 0,\n    \"proyectoId\": 2,\n    \"nombre\": \"Tabla en Bca\",\n    \"descripcion\": \"el plano no cumple con los datos del ministerio\",\n    \"estatusIncidencia\": 1,\n    \"version\": 2\n}"
						},
						"url": {
							"raw": "{{urlApi}}Incidencias",
							"host": [
								"{{urlApi}}Incidencias"
							]
						},
						"description": "Agrega un usuario"
					},
					"response": []
				},
				{
					"name": "IncidenciasDelete",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{urlApi}}Incidencias/5",
							"host": [
								"{{urlApi}}Incidencias"
							],
							"path": [
								"5"
							]
						},
						"description": "Eliminar un usuario"
					},
					"response": []
				}
			]
		},
		{
			"name": "05 Archivos",
			"item": [
				{
					"name": "ArchivosPost",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{    \n    \"URL\": \"C:/Users/Usuari/source/repos/147330-144424/AdministradorDeIncidencias/Incidencias.WebApi/Resources/Archivos/data.txt\",\n    \"Proveedor\": \"Proveedor2\"\n}"
						},
						"url": {
							"raw": "{{urlApi}}Archivos",
							"host": [
								"{{urlApi}}Archivos"
							]
						},
						"description": "Agrega un usuario"
					},
					"response": []
				}
			]
		},
		{
			"name": "06 Reportes",
			"item": [
				{
					"name": "IncidenciasPorProyecto",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}Reportes/IncidenciasPorProyecto",
							"host": [
								"{{urlApi}}Reportes"
							],
							"path": [
								"IncidenciasPorProyecto"
							]
						}
					},
					"response": []
				},
				{
					"name": "IncidenciasPorTester",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"ProyectoId\": null,\n    \"EstatusIncidencia\":2\n}"
						},
						"url": {
							"raw": "{{urlApi}}Reportes/IncidenciasPorTester/5",
							"host": [
								"{{urlApi}}Reportes"
							],
							"path": [
								"IncidenciasPorTester",
								"5"
							]
						},
						"description": "Actualiza un usuario, aunque en este método no se actualiza su contraseña."
					},
					"response": []
				},
				{
					"name": "IncidenciasResueltasDesarrolador",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{urlApi}}Reportes/IncidenciasResueltasDesarrolador/3",
							"host": [
								"{{urlApi}}Reportes"
							],
							"path": [
								"IncidenciasResueltasDesarrolador",
								"3"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "urlApi",
			"value": "https://localhost:44364/api/"
		},
		{
			"key": "token",
			"value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiYWd1c3RpbmEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJhZG1pbmlzdHJhZG9yeDNhQGNvcnJlby5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbmlzdHJhZG9yIiwibmJmIjoxNjMzNTc4MDE5LCJleHAiOjE2MzM1Nzg2MTksImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjQ0MzYzLyIsImF1ZCI6IkluY2lkZW5jaWFzV2ViQXBpIn0.Vq-7eJOgMm86rweZ9gIRyTlvmA4A7CkNMoosUTNocGo"
		}
	]
}